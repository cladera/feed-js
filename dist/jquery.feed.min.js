/*! jquery.feed 2013-10-28 */
!function(a){var b=function(b,c){var d=this;this.context=c,this.options=b,this.running=!1,console.log("Loading source..."),console.log("Source typeof: "+typeof this.options.source),"object"==typeof this.options.source?(console.log("Source array"),a.each(this.options.source,function(a,b){d.add(b)})):"string"==typeof this.options.source?(this.running=!0,d._get()):console.error("Invalid source type"),this.context.addClass("feed")};b.prototype.add=function(b){var c=a('<div class="comment"></div>');return c.append('<div class="comment author">'+b.author||"</div>"),c.append('<div class="comment body">'+b.body||"</div>"),c.hide(),this.context.prepend(c),c.fadeIn("slow"),this},b.prototype.refresh=function(){this._get()},b.prototype.pause=function(){this.running=!1},b.prototype.resume=function(){this.running=!0,this._get()},b.prototype._get=function(){if("string"==typeof this.options.source){var b=this;a.ajax({url:b.options.source,dataType:"json"}).done(function(c){a.each(c,function(a,c){b.add(c)}),b.running&&b.options.refreshDelay>0&&setTimeout(function(){b.running&&b._get()},1e3*b.options.refreshDelay)})}},a.widget("ui.feed",{options:{source:[],refreshDelay:0},_create:function(){this.feed=new b(this.options,this.element)},destroy:function(){},_setOption:function(a){},add:function(a){this.feed.add(a)},refresh:function(){this.feed.refresh()},pause:function(){this.feed.pause()},resume:function(){this.feed.resume()}})}(jQuery);